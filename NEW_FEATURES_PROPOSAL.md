# 新機能提案書 (New Features Proposal)

## 概要

Money Toolboxの既存機能を補完し、ユーザーの日常的な金融判断をさらに支援する新機能を提案します。

**重要**: 実装のシンプルさを保つため、**外部APIを使用しない機能のみ**に絞って提案します。すべての機能は静的データ（料金テーブル等）と計算ロジックのみで実装可能です。

## 提案する新機能

### 優先度：高

#### 1. クレジットカード還元率比較（Credit Card Rewards Comparison）
**目的**: 支払い方法による実質還元率の比較

**機能**:
- 複数のカード/決済方法の還元率入力
- 購入金額に応じた実質還元額の計算
- ポイント有効期限の考慮
- 年会費を含めた実質還元率の計算

**実装の考慮点**:
- ポイント計算機との統合
- 一般的なカードのプリセット（楽天、PayPay、dポイント等）
- **APIコール不要**: すべて計算のみで実装可能

#### 2. 車両維持費計算機（Vehicle Cost Calculator）
**目的**: 車の総所有コストの把握

**機能**:
- 自動車税、重量税、自賠責保険
- 任意保険料
- 車検費用（2年ごと）
- 燃料費（既存の移動コスト計算機との統合）
- 駐車場代
- メンテナンス費用
- 月額・年額の総コスト表示

**実装の考慮点**:
- 車種・排気量別の税額テーブル（静的データとしてコードに埋め込み）
- エコカー減税の考慮
- **APIコール不要**: 税額テーブルは静的データ

#### 3. 電気代比較（Electricity Cost Comparison）
**目的**: 電力会社・料金プランの比較

**機能**:
- 使用量別の料金比較
- 基本料金 + 従量料金の計算
- 時間帯別料金プラン対応
- 年間コスト比較

**実装の考慮点**:
- 主要電力会社のプリセット（料金データは静的）
- 再エネ賦課金の考慮
- **APIコール不要**: 料金プランデータは静的

### 優先度：中

#### 4. FIRE計算機（Financial Independence Calculator）
**目的**: 経済的自立・早期退職の計画

**機能**:
- 現在の資産・収入・支出の入力
- 目標とする年間生活費の設定
- 4%ルール（または3.5%等）による必要資産額の計算
- 達成までの年数シミュレーション
- 投資リターンを考慮した資産成長予測

**実装の考慮点**:
- 投資シミュレーターとの統合
- インフレ率の考慮
- **APIコール不要**: すべて計算のみで実装可能

#### 5. 携帯料金比較（Mobile Plan Comparison）
**目的**: 携帯電話プランの比較

**機能**:
- データ使用量別の料金比較
- 通話料金の考慮
- 家族割・セット割の計算
- MNP割引の考慮
- 年間コスト比較

**実装の考慮点**:
- 主要キャリア・MVNO のプリセット（料金データは静的）
- **APIコール不要**: 料金プランデータは静的

#### 6. 教育費シミュレーター（Education Cost Simulator）
**目的**: 子供の教育資金の計画

**機能**:
- 幼稚園〜大学までの費用見積もり
- 公立/私立の選択
- 習い事・塾の費用
- 必要な積立額の計算
- 学資保険との比較

**実装の考慮点**:
- 文部科学省の教育費データの活用（静的データとして埋め込み）
- 物価上昇率の考慮
- **APIコール不要**: 教育費データは静的

#### 7. 家計簿ライト（Simple Budget Tracker）
**目的**: シンプルな支出記録

**機能**:
- カテゴリ別支出の記録
- 月次サマリー
- 予算vs実績の比較
- グラフ表示

**実装の考慮点**:
- LocalStorageでのデータ保存
- CSV/JSONエクスポート機能
- プライバシー配慮（データは端末内のみ）
- **APIコール不要**: LocalStorageのみ使用

### 優先度：低

#### 8. ローン借り換え計算機（Loan Refinancing Calculator）
**目的**: 借り換えのメリット試算

**機能**:
- 現在のローン残高・金利・残存期間
- 新しいローンの条件
- 借り換え手数料の考慮
- 総返済額の比較
- 損益分岐点の計算
- **APIコール不要**: すべて計算のみで実装可能

#### 9. 贈与税計算機（Gift Tax Calculator）
**目的**: 贈与税の概算

**機能**:
- 暦年課税・相続時精算課税の選択
- 贈与額に応じた税額計算
- 非課税枠の考慮
- 複数年にわたる贈与プランの最適化

**実装の考慮点**:
- 税制改正への対応が必要（税額テーブルは静的データ）
- **APIコール不要**: 税額テーブルは静的データ

## 実装の優先順位付け基準

1. **使用頻度**: 日常的に使用される機能を優先
2. **実装の複雑さ**: シンプルで実装しやすいものから
3. **既存機能との親和性**: 既存の計算機と統合しやすいもの
4. **PWAとの適合性**: オフラインでも使える機能
5. **データ管理の軽さ**: 大量のデータ管理が不要なもの

## 推奨実装順序

**すべての機能はAPIコール不要で実装可能です！**

### フェーズ1（すぐに実装可能）:
1. クレジットカード還元率比較 - 既存ポイント計算機との親和性が高い
2. ローン借り換え計算機 - 既存住宅ローン計算機との親和性が高い
3. FIRE計算機 - 既存投資シミュレーターとの親和性が高い

### フェーズ2（中期）:
4. 車両維持費計算機 - 税額テーブルの準備が必要
5. 電気代比較 - 料金プランデータの準備が必要
6. 携帯料金比較 - 料金プランデータの準備が必要

### フェーズ3（長期）:
7. 教育費シミュレーター - 教育費データの準備が必要
8. 家計簿ライト - LocalStorageを使った状態管理が必要
9. 贈与税計算機 - 税制の複雑さを考慮

## UI/UX の考慮事項

- 既存のタブナビゲーション構造を維持
- 「もっと見る」モーダルに新機能を追加
- 各計算機は既存のデザインパターンに従う
- モバイルファーストの設計を維持
- ダークモード対応

## 技術的考慮事項

- **外部APIは使用しない** - すべて静的データと計算ロジックのみ
- LocalStorageの容量制限（5-10MB）- 家計簿ライトのみ使用
- 静的データ（料金テーブル、税額テーブル等）はコード内に埋め込み
- PWAの完全オフライン動作を維持
- レスポンシブデザインの維持
- アクセシビリティ対応

## まとめ

Money Toolboxの「日常のちょっとしたお金の判断を助ける」というコンセプトに沿って、実用的で使いやすい新機能を提案しました。

**すべての機能は外部APIを使用せず、静的データと計算ロジックのみで実装可能**です。これにより：
- 実装がシンプル
- 完全オフライン動作
- 高速なレスポンス
- メンテナンスが容易

まずは既存機能との親和性が高い機能（クレジットカード還元率比較、ローン借り換え計算機、FIRE計算機）から実装し、ユーザーフィードバックを得ながら段階的に機能を拡充していくことを推奨します。
